<!DOCTYPE html>
<html>

    <head>
        <title>Popoto example</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/popoto@2.0.18/dist/popoto.min.css" integrity="sha256-FtBeWHBrDkwl89uo1iYhRHRRIqYZ0HOsRUM4kxvbe90=" crossorigin="anonymous">
    </head>
    
    <body class="ppt-body">
    
        <section class="ppt-section-main">
        
            <div class="ppt-container-graph">
                <nav id="popoto-taxonomy" class="ppt-taxo-nav">
                    <!-- Label/taxonomy filter will be generated here -->
                </nav>
                <div id="popoto-graph" class="ppt-div-graph">
                    <!-- Graph will be generated here-->
                </div>
            </div>
        
            <div id="popoto-query" class="ppt-container-query">
                <!-- Query viewer will be generated here -->
            </div>
        
            <div id="popoto-cypher" class="ppt-container-cypher">
                <!-- Cypher query viewer will be generated here -->
            </div>
        
            <div class="ppt-section-header">
                <!-- The total results count is updated with a listener defined below -->
                RESULTS <span id="result-total-count" class="ppt-count"></span>
            </div>
        
            <div id="popoto-results" class="ppt-container-results">
                <!-- Results will be generated here -->
            </div>
        
        </section>
        
        <!-- Required scripts -->
        
        <script src="https://unpkg.com/jquery" charset="utf-8"></script>
        <script src="https://unpkg.com/d3" charset="utf-8"></script>
        <script src="https://cdn.jsdelivr.net/npm/popoto@2.0.18/dist/popoto.min.js" integrity="sha256-XBuzawnRd8LyRlO3hrCUmgovgL0za+4tUXREUH9ZBJc=" crossorigin="anonymous"></script>
        <script>
        /**
         * URL used to access Neo4j REST API to execute queries.
         * Update this parameter to your running server instance.
         *
         * For more information on Neo4J REST API the documentation is available
         * here: http://neo4j.com/docs/stable/rest-api-cypher.html
         */
        popoto.rest.CYPHER_URL = "http://localhost:7474/db/data/transaction/commit";
    
        /**
         * Add this authorization property if your Neo4j server uses basic HTTP authentication.
         * The value of this property must be "Basic <payload>", where "payload" is a base64
         * encoded string of "username:password".
         *
         * "btoa" is a JavaScript function that can be used to encode the user and password
         * value in base64 but it is recommended to directly use the Base64 value.
         *
         *  For example Base64 encoded value of "neo4j:password" is "bmVvNGo6cGFzc3dvcmQ="
         *
         ***********************************************************************************
         *  /!\ It is not a safe way to keep these credentials in the page as anyone can 
         * have access to this code in your web page.
         ***********************************************************************************
        */
        popoto.rest.AUTHORIZATION = "Basic " + btoa("neo4j:ne@4j");
        popoto.query.RESULTS_PAGE_SIZE = 700;
        popoto.graph.node.PAGE_SIZE = 50;
        popoto.provider.node.Provider = {
        "VirtualMachine": {
            "returnAttributes": ["name", "uid", "properties"],
            "autoExpandRelations": true,
            "getImagePath": function (node) {
                return "image/node/VM.svg";
            },
            "getDisplayType": function (node) {
            return popoto.provider.node.DisplayTypes.IMAGE;
            },
        },
        "Disk": {
            "returnAttributes": ["name", "uid", "properties"],
        },
        "NetworkInterface": {
            "returnAttributes": ["name", "uid", "properties"],
        },
        "ResourceGroup": {
            "returnAttributes": ["name", "properties"],
        },
        "VirtualNetwork": {
            "returnAttributes": ["name", "uid", "properties"],

        },
        "Subnet": {
            "returnAttributes": ["name", "uid", "properties"],

        },
        "NetworkSecurityGroup": {
            "returnAttributes": ["name", "uid", "properties"],
        },
        "Element":{
            "returnAttributes": ["name", "uid", "properties"],
        }

    };
        popoto.result.onTotalResultCount(function (count) {
        document.getElementById("result-total-count").innerHTML = "(" + count + ")";
        });
        popoto.logger.LEVEL = popoto.logger.LogLevels.INFO;
        /**
         * Start popoto.js generation.
         * The function requires the label to use as root element in the graph.
         */
        popoto.start("VirtualNetwork");
        </script>
    </body>
</html>
